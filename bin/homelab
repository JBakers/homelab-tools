#!/bin/bash
set -euo pipefail

# Homelab Management Menu
# Author: J.Bakers
# Version: 3.5.0-dev.25

# Load shared menu helper library
# Resolve symlinks to find the actual installation directory
SCRIPT_PATH="${BASH_SOURCE[0]}"
while [[ -L "$SCRIPT_PATH" ]]; do
    SCRIPT_DIR="$(cd "$(dirname "$SCRIPT_PATH")" && pwd)"
    SCRIPT_PATH="$(readlink "$SCRIPT_PATH")"
    [[ "$SCRIPT_PATH" != /* ]] && SCRIPT_PATH="$SCRIPT_DIR/$SCRIPT_PATH"
done
SCRIPT_DIR="$(cd "$(dirname "$SCRIPT_PATH")" && pwd)"
LIB_DIR="$(dirname "$SCRIPT_DIR")/lib"
source "$LIB_DIR/menu-helpers.sh"

# Kleuren (from menu-helpers.sh, but keep for backwards compat)
CYAN="$MENU_CYAN"
GREEN="$MENU_GREEN"
YELLOW="$MENU_YELLOW"
RED="$MENU_RED"
BOLD="$MENU_BOLD"
RESET="$MENU_RESET"

# Fallback simple menu (numbered) for terminals where arrow navigation fails.
# Trigger with HLT_MENU_SIMPLE=1 or when stdin is not a TTY.
simple_menu() {
    local title="$1"
    shift
    local -a options=("$@")

    echo "" >&2
    echo -e "${BOLD}${CYAN}${title}${RESET}" >&2
    local idx=1
    for option in "${options[@]}"; do
        local label desc
        if [[ "$option" =~ \| ]]; then
            label="${option%%|*}"
            desc="${option##*|}"
        else
            label="$option"
            desc=""
        fi
        echo "  ${idx}) ${label}${desc:+ - ${desc}}" >&2
        ((idx++))
    done
    echo "" >&2

    local choice
    while true; do
        read -rp "Select an option [1-${#options[@]}] (q to quit): " choice < /dev/tty || return 1
        if [[ "$choice" =~ ^[Qq]$ ]]; then
            # Map quit to last index if present, else return -1
            if [[ "${options[-1]}" == "QUIT" ]]; then
                echo "$((${#options[@]} - 1))"
            else
                echo "-1"
            fi
            return 0
        elif [[ "$choice" =~ ^[0-9]+$ ]] && (( choice >= 1 && choice <= ${#options[@]} )); then
            echo "$((choice - 1))"
            return 0
        else
            echo "Invalid choice. Try again." >&2
        fi
    done
}

# Wrapper to choose arrow menu or simple menu
# Sets global MENU_RESULT variable with the selection
choose_menu() {
    local title="$1"
    shift
    if [[ "${HLT_MENU_SIMPLE:-0}" == "1" ]]; then
        simple_menu "$title" "$@"
        # simple_menu echoes result, capture it
        return
    else
        show_arrow_menu "$title" "$@"
        # show_arrow_menu sets MENU_RESULT
    fi
}

# Read user input with q to cancel
# Usage: read_input "prompt" variable_name
# Returns: 0 if input provided, 1 if cancelled (q pressed)
# Sets the variable to the input value
read_input() {
    local prompt="$1"
    local var_name="$2"
    local input
    
    read -p "$(echo -e "${CYAN}${prompt}${RESET} ${YELLOW}(q=cancel)${RESET}: ")" input
    
    if [[ "$input" == "q" || "$input" == "Q" ]]; then
        return 1
    fi
    
    eval "$var_name=\"\$input\""
    return 0
}

# Wait for user to press Enter or q to continue
# Returns: 0 if Enter, 1 if q pressed
wait_for_continue() {
    local key
    echo -e "${YELLOW}Press Enter to continue (q=back)...${RESET}"
    read -rsn1 key < /dev/tty 2>/dev/null || true
    if [[ "$key" == "q" || "$key" == "Q" ]]; then
        return 1
    fi
    return 0
}

# Help functie (kort overzicht)
show_help() {
    echo -e "${BOLD}${CYAN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    echo -e "â•‘         ğŸ  Homelab Management Tools v3.5.0-dev            â•‘"
    echo -e "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo -e "${BOLD}${CYAN}Available commands:${RESET}"
    echo ""
    echo -e "  ${YELLOW}generate-motd${RESET}         Generate MOTD for a service"
    echo -e "  ${YELLOW}bulk-generate-motd${RESET}    Generate MOTDs for all hosts"
    echo -e "  ${YELLOW}deploy-motd${RESET}           Deploy MOTD to container"
    echo -e "  ${YELLOW}cleanup-keys${RESET}          Remove old SSH keys"
    echo -e "  ${YELLOW}list-templates${RESET}        Show all MOTD templates"
    echo -e "  ${YELLOW}edit-hosts${RESET}            Edit SSH configuration"
    echo -e "  ${YELLOW}copykey${RESET}               Distribute SSH keys"
    echo ""
    echo -e "${BOLD}${CYAN}Usage:${RESET}"
    echo -e "  ${GREEN}homelab${RESET}               Show interactive menu"
    echo -e "  ${GREEN}homelab help${RESET}          Show detailed help"
    echo -e "  ${GREEN}<command> --help${RESET}     Show help for specific command"
    echo ""
    echo -e "${BOLD}${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
}

# Gedetailleerde help
show_detailed_help() {
    echo -e "${BOLD}${CYAN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    echo -e "â•‘         ğŸ  Homelab Tools - Detailed Help                   â•‘"
    echo -e "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo -e "${BOLD}${CYAN}MOTD (Message of the Day) system:${RESET}"
    echo -e "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
    echo -e "Creates beautiful, dynamic login screens for your servers with:"
    echo -e "  â€¢ Rainbow ASCII art (using toilet)"
    echo -e "  â€¢ System information (hostname, IP, uptime)"
    echo -e "  â€¢ Service-specific info (Docker, Pi-hole, etc.)"
    echo -e "  â€¢ Clickable Web UI links"
    echo ""
    echo -e "${BOLD}${YELLOW}Workflow:${RESET}"
    echo -e "  1. ${GREEN}generate-motd <hostname>${RESET}  â†’ Create template"
    echo -e "  2. ${GREEN}deploy-motd <hostname>${RESET}    â†’ Deploy to host"
    echo -e "  3. ${GREEN}ssh <hostname>${RESET}            â†’ See your beautiful MOTD!"
    echo ""
    echo -e "The MOTD is generated dynamically at each login,"
    echo -e "so information like uptime is always current."
    echo ""
    echo -e "${BOLD}${CYAN}Host management:${RESET}"
    echo -e "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
    echo -e "Your hosts are configured in ~/.ssh/config"
    echo -e "All homelab tools use this for host access."
    echo ""
    echo -e "  ${GREEN}edit-hosts${RESET}     Edit your host configuration"
    echo -e "  ${GREEN}copykey${RESET}        Distribute SSH keys to all hosts"
    echo ""
    echo -e "${BOLD}${CYAN}Requirements:${RESET}"
    echo -e "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
    echo -e "  â€¢ toilet (for ASCII art): ${GREEN}sudo apt install toilet toilet-fonts${RESET}"
    echo -e "  â€¢ figlet (fallback): ${GREEN}sudo apt install figlet${RESET}"
    echo ""
    echo -e "${BOLD}${CYAN}Examples:${RESET}"
    echo -e "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
    echo -e "  ${GREEN}bulk-generate-motd${RESET}"
    echo -e "    â†’ Scan host list and generate MOTDs for all hosts"
    echo ""
    echo -e "  ${GREEN}generate-motd jellyfin${RESET}"
    echo -e "    â†’ Create template for Jellyfin server"
    echo ""
    echo -e "  ${GREEN}deploy-motd jellyfin${RESET}"
    echo -e "    â†’ Deploy MOTD to Jellyfin server"
    echo ""
    echo -e "  ${GREEN}cleanup-keys 192.168.1.30${RESET}"
    echo -e "    â†’ Remove old SSH keys for this IP"
    echo ""
    echo -e "${BOLD}${CYAN}More info:${RESET}"
    echo -e "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
    echo -e "  GitHub: https://github.com/JBakers/homelab-tools"
    echo -e "  Each command: ${GREEN}<command> --help${RESET}"
    echo ""
    echo -e "${BOLD}${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
}

# MOTD submenu help
show_motd_help() {
    clear
    echo -e "${BOLD}${CYAN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    echo -e "â•‘         ğŸ“ MOTD Tools - Help                              â•‘"
    echo -e "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo -e "${BOLD}${CYAN}Available Commands:${RESET}"
    echo ""
    echo -e "${BOLD}1. Generate MOTD${RESET}"
    echo -e "   Create a custom MOTD template for a single host."
    echo -e "   Choose from multiple ASCII art styles or clean functional design."
    echo -e "   ${GREEN}Usage:${RESET} Select option 1, enter hostname (e.g., jellyfin)"
    echo ""
    echo -e "${BOLD}2. Bulk Generate${RESET}"
    echo -e "   Generate MOTDs for all hosts in your SSH config at once."
    echo -e "   Choose Default or ASCII style, then Interactive or Smart-detect mode."
    echo -e "   ${GREEN}Usage:${RESET} Select option 2, follow the prompts"
    echo ""
    echo -e "${BOLD}3. Deploy MOTD${RESET}"
    echo -e "   Upload a generated template to a remote host via SSH."
    echo -e "   The MOTD will be shown when you log in to that host."
    echo -e "   ${GREEN}Usage:${RESET} Select option 3, enter hostname"
    echo ""
    echo -e "${BOLD}4. List Templates${RESET}"
    echo -e "   View all generated MOTD templates with details."
    echo -e "   Shows hostname, last modified date, and file size."
    echo -e "   ${GREEN}Usage:${RESET} Select option 4"
    echo ""
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    wait_for_continue
}

# Configuration submenu help
show_config_help() {
    clear
    echo -e "${BOLD}${CYAN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    echo -e "â•‘         âš™ï¸  Configuration - Help                           â•‘"
    echo -e "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo -e "${BOLD}${CYAN}Available Commands:${RESET}"
    echo ""
    echo -e "${BOLD}1. Edit Hosts${RESET}"
    echo -e "   Manage your host list via SSH config file (~/.ssh/config)."
    echo -e "   Add, edit, or remove host entries for your homelab servers."
    echo -e "   ${GREEN}Usage:${RESET} Select option 1, edit in your preferred editor"
    echo ""
    echo -e "${BOLD}2. Edit Settings${RESET}"
    echo -e "   Configure homelab tools global settings."
    echo -e "   Set domain suffix (.home, .local) and IP detection method."
    echo -e "   ${GREEN}Usage:${RESET} Select option 2, enter new settings"
    echo ""
    echo -e "${BOLD}3. Uninstall${RESET}"
    echo -e "   Remove homelab-tools from your system."
    echo -e "   Your templates and SSH config will be preserved."
    echo -e "   ${GREEN}Usage:${RESET} Select option 3, confirm uninstall"
    echo ""
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    wait_for_continue
}

# SSH submenu help
show_ssh_help() {
    clear
    echo -e "${BOLD}${CYAN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    echo -e "â•‘         ğŸ”‘ SSH Tools - Help                               â•‘"
    echo -e "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo -e "${BOLD}${CYAN}Available Commands:${RESET}"
    echo ""
    echo -e "${BOLD}1. Copy SSH Key${RESET}"
    echo -e "   Distribute your SSH public key to all hosts in your config."
    echo -e "   Enables passwordless SSH login for easier management."
    echo -e "   ${GREEN}Usage:${RESET} Select option 1, confirm distribution"
    echo ""
    echo -e "${BOLD}2. Cleanup Old Keys${RESET}"
    echo -e "   Remove outdated or conflicting SSH host keys."
    echo -e "   Useful when hosts are rebuilt or IPs change."
    echo -e "   ${GREEN}Usage:${RESET} Select option 2, confirm cleanup"
    echo ""
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    wait_for_continue
}

# Note: Menu display functions removed - now using show_arrow_menu from lib/menu-helpers.sh

# Als --help of help wordt meegegeven
if [[ "${1:-}" == "--help" ]] || [[ "${1:-}" == "-h" ]]; then
    show_help
    exit 0
elif [[ "${1:-}" == "help" ]]; then
    show_detailed_help
    exit 0
fi

# Interactief menu met arrow navigation
while true; do
    # Show main menu with arrow navigation
    choose_menu "ğŸ  Homelab Management Tools v3.5.0-dev" \
        "ğŸ“ MOTD Tools|Generate/deploy/list MOTDs" \
        "âš™ï¸  Configuration|Edit hosts & settings" \
        "ğŸ”‘ SSH Management|Keys & cleanup" \
        "HELP" "QUIT"
    result="$MENU_RESULT"

    case "$result" in
        0)
            # MOTD submenu
            while true; do
                choose_menu "ğŸ“ MOTD Tools" \
                    "Generate MOTD|Create template for one host" \
                    "Bulk Generate|Create for all hosts" \
                    "Deploy MOTD|Upload to host" \
                    "List Templates|View all templates" \
                    "HELP" "BACK"
                submenu_result="$MENU_RESULT"

                case "$submenu_result" in
                    0)
                        # Generate MOTD
                        clear
                        echo ""
                        if read_input "Service name" service && [[ -n "$service" ]]; then
                            generate-motd "$service"
                            echo ""
                            wait_for_continue
                        fi
                        ;;
                    1)
                        # Bulk Generate
                        bulk-generate-motd
                        wait_for_continue
                        ;;
                    2)
                        # Deploy MOTD
                        clear
                        echo ""
                        if read_input "Service name" service && [[ -n "$service" ]]; then
                            deploy-motd "$service"
                            echo ""
                            wait_for_continue
                        fi
                        ;;
                    3)
                        # List Templates
                        clear
                        list-templates
                        echo ""
                        wait_for_continue
                        ;;
                    4)
                        # Help
                        show_motd_help
                        ;;
                    5|-1)
                        # Back (selected or ESC)
                        break
                        ;;
                esac
            done
            ;;
        1)
            # Configuration submenu
            while true; do
                choose_menu "âš™ï¸  Configuration" \
                    "Edit Hosts|Manage host list (~/.ssh/config)" \
                    "Edit Settings|Configure homelab tools" \
                    "ğŸ—‘ï¸  Uninstall|Remove homelab-tools" \
                    "HELP" "BACK"
                submenu_result="$MENU_RESULT"

                case "$submenu_result" in
                    0)
                        # Edit Hosts
                        clear
                        edit-hosts
                        echo ""
                        wait_for_continue
                        ;;
                    1)
                        # Edit Settings
                        clear
                        edit-config
                        echo ""
                        wait_for_continue
                        ;;
                    2)
                        # Uninstall
                        clear
                        echo ""
                        echo -e "${RED}${BOLD}âš ï¸  Uninstall Homelab Tools${RESET}"
                        echo ""
                        echo -e "This will remove homelab-tools from your system."
                        echo -e "Your templates and SSH config will be preserved."
                        echo ""
                        echo -e "${YELLOW}Are you sure?${RESET}"
                        echo ""
                        echo -e "  ${YELLOW}1${RESET}) Yes, uninstall"
                        echo -e "  ${YELLOW}2${RESET}) No, cancel"
                        echo ""
                        read -p "$(echo -e ${CYAN}Choice \(1/2\):${RESET} )" uninstall_choice
                        if [[ "$uninstall_choice" == "1" ]]; then
                            echo ""
                            if [[ -f "/opt/homelab-tools/uninstall.sh" ]]; then
                                /opt/homelab-tools/uninstall.sh
                            elif [[ -f "$SCRIPT_DIR/../uninstall.sh" ]]; then
                                "$SCRIPT_DIR/../uninstall.sh"
                            else
                                echo -e "${RED}âœ— Uninstall script not found${RESET}"
                                echo -e "  Run manually: ${GREEN}sudo rm -rf /opt/homelab-tools${RESET}"
                            fi
                            exit 0
                        fi
                        ;;
                    3)
                        # Help
                        show_config_help
                        ;;
                    4|-1)
                        # Back (selected or ESC)
                        break
                        ;;
                esac
            done
            ;;
        2)
            # SSH submenu
            while true; do
                choose_menu "ğŸ”‘ SSH Tools" \
                    "Copy SSH Key|Distribute key to hosts" \
                    "Cleanup Old Keys|Remove outdated host keys" \
                    "HELP" "BACK"
                submenu_result="$MENU_RESULT"

                case "$submenu_result" in
                    0)
                        # Copy SSH Key
                        clear
                        copykey
                        echo ""
                        wait_for_continue
                        ;;
                    1)
                        # Cleanup Old Keys
                        clear
                        echo ""
                        if read_input "IP address or hostname" host && [[ -n "$host" ]]; then
                            cleanup-keys "$host"
                            echo ""
                            wait_for_continue
                        fi
                        ;;
                    2)
                        # Help
                        show_ssh_help
                        ;;
                    3|-1)
                        # Back (selected or ESC)
                        break
                        ;;
                esac
            done
            ;;
        3)
            # Help
            show_detailed_help
            echo ""
            wait_for_continue
            ;;
        4|-1)
            # Quit (selected or ESC)
            echo -e "${GREEN}âœ“ Goodbye!${RESET}"
            exit 0
            ;;
        "IDDQD")
            # Easter egg
            clear
            echo ""
            echo -e "${RED}${BOLD}"
            cat << 'DOOMGUY'

            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—
            â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘
            â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘
            â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘
            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘
            â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•     â•šâ•â•

DOOMGUY
            echo -e "${RESET}"
            echo -e "${GREEN}              ğŸ® ${BOLD}GOD MODE ACTIVATED${RESET}${GREEN} ğŸ®${RESET}"
            echo ""
            echo -e "${YELLOW}         Degreelessness Mode: ${BOLD}INVINCIBLE${RESET}"
            echo ""
            sleep 2
            ;;
    esac
done
